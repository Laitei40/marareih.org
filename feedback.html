<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MLP â€” Feedback</title>
  <meta name="description" content="Mara Language Preservation community feedback form.">
  <script src="js/theme-init.js"></script>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/feedback.css">
  <script defer src="js/script.js"></script>
  <link rel="icon" href="assets/logo.svg" type="image/svg+xml">
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="container nav-row">
      <a class="brand" href="index.html" aria-label="Mara Language Preservation homepage">
        <img src="assets/logo.svg" width="36" height="36" alt="Mara Language Preservation logo">
        <span>Mara Language Preservation</span>
      </a>
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="hamburger"></span>
      </button>

      <nav id="primary-navigation" class="primary-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main" class="container">
    <article class="card feedback-card">
      <h1>Mara Language Preservation (MLP) Community Feedback</h1>
      <p class="lede">
        Your feedback helps us improve and grow the Mara Language Preservation initiative.
        All responses are confidential.
      </p>

      <!-- ===================== FORM ===================== -->
      <form id="mlp-google-form" novalidate>

        <label for="name">Name (Optional)</label>
        <input id="name" name="entry.375119448" type="text" placeholder="Your name">

        <label for="email">Email (Optional)</label>
        <input id="email" name="entry.1555416240" type="email" placeholder="name@example.com">

        <label for="country">Are you from? (Optional)</label>
        <input id="country" name="entry.578966156" type="text" placeholder="Country or place">

        <label for="message">Your feedback</label>
        <textarea
          id="message"
          name="entry.763811229"
          rows="6"
          required
          placeholder="Share your thoughts or suggestions">
        </textarea>

        <fieldset>
          <legend><strong>Can we contact you about your feedback?</strong></legend>
          <label>
            <input type="radio" name="entry.1307833837" value="Yes" required>
            Yes
          </label>
          <label>
            <input type="radio" name="entry.1307833837" value="No">
            No
          </label>
        </fieldset>
        <div class="actions">
          <button type="submit" id="mlp-submit">Submit feedback</button>
          <div id="mlp-status" class="status" aria-live="polite"></div>
        </div>
      </form>
      <!-- =================== END FORM =================== -->

    </article>
  </main>

  <footer class="site-footer site-footer--mlp" role="contentinfo">
    <div class="footer-top">
      <div class="container footer-columns">
        <div>
          <h3>About MLP</h3>
          <ul>
            <li><a href="about.html">About Mara Language Preservation</a></li>
            <li><a href="mission.html">Mission &amp; Vision</a></li>
            <li><a href="community.html">Community &amp; Contributors</a></li>
            <li><a href="community.html">Language &amp; Culture</a></li>
            <li><a href="faq.html">FAQ</a></li>
          </ul>
        </div>
        <div>
          <h3>Resources</h3>
          <ul>
            <li><a href="dictionary.html">Mara Dictionary</a></li>
            <li><a href="grammar.html">Mara Grammar</a></li>
            <li><a href="keyboard-fonts.html">Mara Keyboard &amp; Fonts</a></li>
            <li><a href="datasets.html">Datasets &amp; Downloads</a></li>
            <li><a href="documentation.html">Documentation</a></li>
          </ul>
        </div>
        <div>
          <h3>Projects &amp; Updates</h3>
          <ul>
            <li><a href="projects.html">MLP Projects</a></li>
            <li><a href="updates.html">Change Log / Updates</a></li>
            <li><a href="documentation.html">Digital Tools</a></li>
            <li><a href="feedback.html">Submit Feedback</a></li>
          </ul>
        </div>
        <div>
          <h3>Contact &amp; Legal</h3>
          <ul>
            <li><a href="contact.html">Contact Us</a></li>
            <li><a href="privacy-policy.html">Privacy Policy</a></li>
            <li><a href="terms-of-use.html">Terms of Use</a></li>
            <li><a href="external-links-disclaimer.html">External Links Disclaimer</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container footer-bottom-row">
        <div>Â© 2026 Mara Language Preservation (MLP)</div>
        <div><a href="terms-of-use.html">Terms of Use</a> | <a href="privacy-policy.html">Privacy Policy</a> | <a href="external-links-disclaimer.html">External Links Disclaimer</a></div>
      </div>
    </div>
  </footer>

  <!-- ===================== CONFIG ===================== -->
  <script>
    // ðŸ”´ MUST be your real Worker URL
    window.GOOGLE_FORM_PROXY = 'https://mlp-form-proxy.teiteipara.workers.dev';
  </script>

  <!-- ===================== LOGIC ====================== -->
  <script>
    (function () {
      const form   = document.getElementById('mlp-google-form');
      const status = document.getElementById('mlp-status');
      const submit = document.getElementById('mlp-submit');

      form.addEventListener('submit', async function (e) {
        e.preventDefault();

        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        if (!window.GOOGLE_FORM_PROXY) {
          status.textContent = 'Submission service unavailable.';
          return;
        }

        submit.disabled = true;
        status.textContent = 'Submittingâ€¦';

        try {
          const fd = new FormData(form);
          const params = new URLSearchParams();
          for (const [k, v] of fd.entries()) params.append(k, v);

          const res = await fetch(window.GOOGLE_FORM_PROXY, {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: params.toString()
          });

          const result = await res.json();

          if (result.success) {
            status.textContent = 'Thank you â€” your feedback was received!';
            form.reset();
          } else {
            status.textContent = 'Submission failed. Please try again.';
            console.error(result);
          }
        } catch (err) {
          status.textContent = 'Submission failed. Please try again.';
          console.error(err);
        } finally {
          submit.disabled = false;
        }
      });
    })();
  </script>

</body>
</html>
